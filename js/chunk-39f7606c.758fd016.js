(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39f7606c"],{1276:function(e,t,i){"use strict";var n=i("d784"),r=i("44e7"),a=i("825a"),s=i("1d80"),l=i("4840"),o=i("8aa5"),c=i("50c4"),u=i("14c3"),d=i("9263"),v=i("d039"),p=[].push,f=Math.min,m=4294967295,h=!v((function(){return!RegExp(m,"y")}));n("split",2,(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(s(this)),a=void 0===i?m:i>>>0;if(0===a)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,a);var l,o,c,u=[],v=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=new RegExp(e.source,v+"g");while(l=d.call(h,n)){if(o=h.lastIndex,o>f&&(u.push(n.slice(f,l.index)),l.length>1&&l.index<n.length&&p.apply(u,l.slice(1)),c=l[0].length,f=o,u.length>=a))break;h.lastIndex===l.index&&h.lastIndex++}return f===n.length?!c&&h.test("")||u.push(""):u.push(n.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var r=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r,i):n.call(String(r),t,i)},function(e,r){var s=i(n,e,this,r,n!==t);if(s.done)return s.value;var d=a(e),v=String(this),p=l(d,RegExp),g=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(h?"y":"g"),_=new p(h?d:"^(?:"+d.source+")",x),b=void 0===r?m:r>>>0;if(0===b)return[];if(0===v.length)return null===u(_,v)?[v]:[];var y=0,w=0,k=[];while(w<v.length){_.lastIndex=h?w:0;var S,C=u(_,h?v:v.slice(w));if(null===C||(S=f(c(_.lastIndex+(h?0:w)),v.length))===y)w=o(v,w,g);else{if(k.push(v.slice(y,w)),k.length===b)return k;for(var P=1;P<=C.length-1;P++)if(k.push(C[P]),k.length===b)return k;w=y=S}}return k.push(v.slice(y)),k}]}),!h)},"14c3":function(e,t,i){var n=i("c6b6"),r=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var a=i.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"33e4":function(e,t,i){e.exports=i.p+"img/publish.e47d8441.svg"},"44e7":function(e,t,i){var n=i("861d"),r=i("c6b6"),a=i("b622"),s=a("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},"5b0b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editPreview"}},[n("header-component"),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"loadingPreview"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.onload,expression:"onload"}],attrs:{id:"editpagePreview"}},[n("div",{ref:"previewHeight",attrs:{id:"questionnairePreview"},on:{scroll:e.scrollDefault}},[n("div",{staticClass:"box",attrs:{id:"topBox"}},[e._v(" 预览 ")]),n("div",{staticClass:"box",attrs:{id:"queBoxPreview"}},[n("div",{attrs:{id:"headPreview"}},[n("div",{attrs:{id:"namePreview"}},[n("span",[e._v(e._s(e.queName))])]),n("div",{attrs:{id:"interpretationPreview"}},[n("span",[e._v(" "+e._s(e.queIntp)+" ")])])]),n("div",{ref:"models",attrs:{id:"modelsPreview"}},e._l(e.quesFiltered,(function(t){return n("div",{key:t.id,staticClass:"list-complete-item"},[n("div",{staticClass:"que-title-holder"},[n("div",{staticClass:"redStarHolder"},[t.compulsory?n("img",{attrs:{src:i("e0d9"),alt:"*",width:"7px",height:"7px"}}):n("div",{staticStyle:{width:"7px",height:"7px"}})]),n("span",{staticClass:"span-origin"},[e._v(e._s(e.queUltimateIndex(t.id)+1)+". "+e._s(t.title))])]),n("div",{staticClass:"pic-preview"},[""!=t.titleImgSrc?n("el-image",{staticStyle:{width:"135px",height:"90px","border-radius":"5px"},attrs:{src:t.titleImgSrc,"preview-src-list":[t.titleImgSrc],fit:"cover"}}):e._e()],1),"单选题"==t.type?n("div",e._l(t.radio.choices,(function(r){return n("div",{key:r.id,staticClass:"choices-item"},[n("li",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.radio.value,expression:"que.radio.value"}],staticClass:"choiceBox",attrs:{type:"radio",id:""+t.id+r.fileId},domProps:{value:""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill,checked:r.checked,checked:e._q(t.radio.value,""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill)},on:{change:function(i){return e.$set(t.radio,"value",""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill)}}})]),n("label",{attrs:{for:""+t.id+r.fileId}},[e._v(" "+e._s(r.content)+" ")])]),e.chosen(t.radio.value,r.content)&&r.needFilling?n("div",{staticClass:"bfa-input",style:r.imgSrc?"margin-bottom: 5px;":""},[n("div",{staticClass:"redStarHolder"},[r.compulsory?n("img",{attrs:{src:i("e0d9"),alt:"*",width:"7px",height:"7px"}}):n("div",{staticStyle:{width:"7px",height:"0px"}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:r.blank_fill,expression:"choice.blank_fill"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:r.blank_fill},on:{input:function(t){t.target.composing||e.$set(r,"blank_fill",t.target.value)}}})]):e._e(),n("div",{staticClass:"pic-preview"},[""!=r.imgSrc?n("el-image",{staticStyle:{width:"135px",height:"90px","border-radius":"5px"},attrs:{src:r.imgSrc,"preview-src-list":[r.imgSrc],fit:"cover"}}):e._e()],1)])})),0):"多选题"==t.type?n("div",e._l(t.multiple.options,(function(r){return n("div",{key:r.id,staticClass:"options-item"},[n("li",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.multiple.value,expression:"que.multiple.value"}],staticClass:"choiceBox",attrs:{type:"checkbox",id:""+t.id+r.fileId},domProps:{value:""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill,checked:Array.isArray(t.multiple.value)?e._i(t.multiple.value,""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill)>-1:t.multiple.value},on:{change:function(i){var n=t.multiple.value,a=i.target,s=!!a.checked;if(Array.isArray(n)){var l=""===r.blank_fill?r.content:r.content+"|ST23|"+r.blank_fill,o=e._i(n,l);a.checked?o<0&&e.$set(t.multiple,"value",n.concat([l])):o>-1&&e.$set(t.multiple,"value",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t.multiple,"value",s)}}})]),n("label",{attrs:{for:""+t.id+r.fileId}},[e._v(e._s(r.content))])]),e.chosen(t.multiple.value,r.content)&&r.needFilling?n("div",{staticClass:"bfa-input",style:r.imgSrc?"margin-bottom: 5px;":""},[n("div",{staticClass:"redStarHolder"},[r.compulsory?n("img",{attrs:{src:i("e0d9"),alt:"*",width:"7px",height:"7px"}}):n("div",{staticStyle:{width:"7px",height:"0px"}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:r.blank_fill,expression:"option.blank_fill"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:r.blank_fill},on:{input:function(t){t.target.composing||e.$set(r,"blank_fill",t.target.value)}}})]):e._e(),n("div",{staticClass:"pic-preview"},[""!=r.imgSrc?n("el-image",{staticStyle:{width:"135px",height:"90px","border-radius":"5px"},attrs:{src:r.imgSrc,"preview-src-list":[r.imgSrc],fit:"cover"}}):e._e()],1)])})),0):"填空题"==t.type?n("div",[n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blank_fill,expression:"que.blank_fill"}],staticClass:"blank",attrs:{type:"text",placeholder:"文本框"},domProps:{value:t.blank_fill},on:{input:function(i){i.target.composing||e.$set(t,"blank_fill",i.target.value)}}})])]):"排序题"==t.type?n("div",e._l(t.sort.sortItems,(function(i){return n("div",{key:i.id,staticClass:"sortItems-item"},[n("li",[n("div",[n("div",{class:["orderBox",i.order?"orderBox-active":""],on:{click:function(n){return e.sortHandler(t.sort,i)}}},[e._v(" "+e._s(i.order?i.order:"")+" ")])]),n("span",[e._v(" "+e._s(i.content)+" ")])]),n("div",{staticClass:"pic-preview"},[""!=i.imgSrc?n("el-image",{staticStyle:{width:"135px",height:"90px","border-radius":"5px"},attrs:{src:i.imgSrc,"preview-src-list":[i.imgSrc],fit:"cover"}}):e._e()],1)])})),0):"评分题"==t.type?n("div",[n("div",[n("div",{staticClass:"slider"},[n("el-slider",{attrs:{marks:t.slider.marks,min:t.slider.min,max:t.slider.max,step:t.slider.max-t.slider.min>10?.1:.01,"show-tooltip":t.slider.showToolTip},on:{change:function(e){t.slider.showToolTip=!0}},model:{value:t.slider.value,callback:function(i){e.$set(t.slider,"value",i)},expression:"que.slider.value"}})],1)])]):"矩阵单选题"==t.type?n("div",[n("div",{staticClass:"matrix-holder"},[n("div",{staticClass:"header-preview"},[n("div",{staticClass:"empty"}),n("div",{staticClass:"columnTitles"},e._l(t.matrixRadio.columnVals,(function(t,i){return n("div",{key:i},[n("span",[e._v(e._s(t.content))])])})),0)]),e._l(t.matrixRadio.rowVals,(function(i,r){return n("div",{key:r,staticClass:"row-item"},[n("div",{staticClass:"row-item-title"},[e._v(e._s(i.content))]),n("div",{staticClass:"row-item-choices"},e._l(t.matrixRadio.columnVals,(function(t,r){return n("div",{key:r,staticClass:"row-item-choice"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"row.value"}],attrs:{type:"radio"},domProps:{value:t.content,checked:e._q(i.value,t.content)},on:{change:function(n){return e.$set(i,"value",t.content)}}})])])})),0)])}))],2)]):n("div",[n("div",{staticClass:"matrix-holder"},[n("div",{staticClass:"header-preview"},[n("div",{staticClass:"empty"}),n("div",{staticClass:"columnTitles"},e._l(t.matrixMultiple.columnVals,(function(t,i){return n("div",{key:i},[n("span",[e._v(e._s(t.content))])])})),0)]),e._l(t.matrixMultiple.rowVals,(function(i,r){return n("div",{key:r,staticClass:"row-item"},[n("div",{staticClass:"row-item-title"},[e._v(e._s(i.content))]),n("div",{staticClass:"row-item-choices"},e._l(t.matrixMultiple.columnVals,(function(t){return n("div",{key:t.id,staticClass:"row-item-choice"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"row.value"}],attrs:{type:"checkbox"},domProps:{value:t.content,checked:Array.isArray(i.value)?e._i(i.value,t.content)>-1:i.value},on:{change:function(n){var r=i.value,a=n.target,s=!!a.checked;if(Array.isArray(r)){var l=t.content,o=e._i(r,l);a.checked?o<0&&e.$set(i,"value",r.concat([l])):o>-1&&e.$set(i,"value",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(i,"value",s)}}})])])})),0)])}))],2)])])})),0),n("div",{attrs:{id:"page"}},[n("button",{class:[1===e.currentPage?"disabled":"avaliable"],attrs:{type:"button",disabled:1===e.currentPage},on:{click:function(t){e.currentPage--}}},[e._v(" 上一页 ")]),e._v(" "+e._s(e.currentPage)+"/"+e._s(e.totalPage)+"页 "),n("button",{class:[e.currentPage===e.totalPage?"disabled":"avaliable"],attrs:{type:"button",disabled:e.currentPage===e.totalPage},on:{click:function(t){e.currentPage++}}},[e._v(" 下一页 ")])])])]),n("div",{attrs:{id:"generalButtsPreview"}},[e._m(0),e._m(1),e._m(2),n("div",{on:{click:e.toEdit}},[n("img",{attrs:{src:i("8308"),width:"18px",height:"18px"}}),n("span",[e._v("返回")])])])])])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:i("86ac"),width:"25px",height:"25px"}}),n("span",[e._v("设置")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:i("fe36"),width:"23px",height:"23px"}}),n("span",[e._v("保存")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:i("33e4"),width:"21px",height:"21px"}}),n("span",[e._v("发布")])])}],a=(i("4de4"),i("d81d"),i("b0c0"),i("ac1f"),i("1276"),i("5530")),s=i("f983"),l=i("2f62"),o={name:"Preview",components:{HeaderComponent:s["a"]},data:function(){return{onload:!1,loading:!0,currentPage:1,ques:[]}},directives:{focus:{inserted:function(e){e.focus()}}},mounted:function(){var e=this;this.ques=this.getQues(),setTimeout((function(){e.onload=!0,e.loading=!1}),500)},computed:Object(a["a"])(Object(a["a"])({},Object(l["b"])(["questionnaireObj"])),{},{queName:function(){return this.questionnaireObj.name},queIntp:function(){return this.questionnaireObj.interpretation},totalPage:function(){return this.questionnaireObj.totalPage},quesReceived:function(){return this.questionnaireObj.data},quesUltimate:function(){return this.ques.filter((function(e){return"pagingLine"!==e.type}))},quesFiltered:function(){var e=this;return this.quesUltimate.filter((function(t){return t.page===e.currentPage}))}}),methods:{getQues:function(){var e=this;if(0==this.quesReceived)return this.$message.warning("无可预览内容！"),this.$router.push({name:"HomePage"}),[];var t=JSON.parse(JSON.stringify(this.quesReceived)),i=1;return t.map((function(t){t.page=i,"pagingLine"===t.type&&i++,t.random&&("单选题"===t.type?e.randomize(t.radio.choices):"多选题"===t.type?e.randomize(t.multiple.options):"排序题"===t.type?e.randomize(t.sort.sortItems):"矩阵单选题"===t.type?e.randomize(t.matrixRadio.columnVals):"矩阵多选题"===t.type&&e.randomize(t.matrixMultiple.columnVals))})),t},queUltimateIndex:function(e){var t=-1;return this.quesUltimate.map((function(i,n){i.id===e&&(t=n)})),t},chosen:function(e,t){return"string"===typeof e?e.split("|ST23|")[0]===t:(e.map((function(e){e.split("|ST23|")[0]===t&&(i=!0)})),i);var i},randomize:function(e){e.sort((function(){return Math.random()-.5}))},sortHandler:function(e,t){if(e.sortedNum)if(t.order)if(t.order==e.sortedNum)t.order=0,e.sortedNum--;else{var i=t.order;e.sortItems.map((function(e){e.order>i&&e.order--})),t.order=0,e.sortedNum--}else t.order=++e.sortedNum;else t.order=++e.sortedNum},scrollDefault:function(){this.ques.map((function(e){"评分题"===e.type&&(e.slider.showToolTip=!1)}))},toEdit:function(){this.$router.push({name:"EditPage"})}}},c=o,u=(i("5f8f"),i("a2a2"),i("2877")),d=Object(u["a"])(c,n,r,!1,null,"7554a4ef",null);t["default"]=d.exports},"5f8f":function(e,t,i){"use strict";i("a07f")},6547:function(e,t,i){var n=i("a691"),r=i("1d80"),a=function(e){return function(t,i){var a,s,l=String(r(t)),o=n(i),c=l.length;return o<0||o>=c?e?"":void 0:(a=l.charCodeAt(o),a<55296||a>56319||o+1===c||(s=l.charCodeAt(o+1))<56320||s>57343?e?l.charAt(o):a:e?l.slice(o,o+2):s-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},6574:function(e,t,i){},8308:function(e,t,i){e.exports=i.p+"img/back.37672142.svg"},"86ac":function(e,t,i){e.exports=i.p+"img/settings.713d4cfb.svg"},"8aa5":function(e,t,i){"use strict";var n=i("6547").charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},9263:function(e,t,i){"use strict";var n=i("ad6d"),r=i("9f7f"),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,o=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||c;d&&(l=function(e){var t,i,r,l,d=this,v=c&&d.sticky,p=n.call(d),f=d.source,m=0,h=e;return v&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(f="(?: "+f+")",h=" "+h,m++),i=new RegExp("^(?:"+f+")",p)),u&&(i=new RegExp("^"+f+"$(?!\\s)",p)),o&&(t=d.lastIndex),r=a.call(v?i:d,h),v?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:o&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(r[l]=void 0)})),r}),e.exports=l},"9f7f":function(e,t,i){"use strict";var n=i("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a07f:function(e,t,i){},a2a2:function(e,t,i){"use strict";i("6574")},ac1f:function(e,t,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,i){"use strict";var n=i("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,i){var n=i("83ab"),r=i("9bf2").f,a=Function.prototype,s=a.toString,l=/^\s*function ([^ (]*)/,o="name";n&&!(o in a)&&r(a,o,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(e){return""}}})},d784:function(e,t,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),a=i("b622"),s=i("9263"),l=i("9112"),o=a("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),v=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,d){var f=a(e),m=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=m&&!r((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[o]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return t=!0,null},i[f](""),!t}));if(!m||!h||"replace"===e&&(!c||!u||v)||"split"===e&&!p){var g=/./[f],x=i(f,""[e],(function(e,t,i,n,r){return t.exec===s?m&&!r?{done:!0,value:g.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),_=x[0],b=x[1];n(String.prototype,e,_),n(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}d&&l(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde"),s=i("ae40"),l=a("map"),o=s("map");n({target:"Array",proto:!0,forced:!l||!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e0d9:function(e,t,i){e.exports=i.p+"img/redStar.2a7bdb2f.svg"},fe36:function(e,t,i){e.exports=i.p+"img/save.36da490e.svg"}}]);
//# sourceMappingURL=chunk-39f7606c.758fd016.js.map